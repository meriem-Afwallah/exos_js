<!DOCTYPE html>

<html>
   <head>
       <title>JVS-INI: Exercice 10</title>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <link href="style.css" rel="stylesheet" type="text/css"/>
       <script src="js/lib/jquery-3.3.1.min.js" type="text/javascript"></script>
       <script>
           $(document).ready(function() {
               $('<th></th>').appendTo('thead tr');
               $('<td></td>').appendTo('tbody tr').each(function(){
                   $('<img src="img/user_icon.png"/>').appendTo(this).click (function(){
                       $(this).closest('tr').hide('slow',function(){
                           this.remove();
                       });
                   });
               });
           });
           
       </script>
       <script>
           function init() {
               var tr = document.querySelector("thead tr");
               var th = document.createElement("th");
               tr.appendChild(th);
               
               var colTr = document.querySelectorAll("tbody tr");
               for (var i=0; i<colTr.length; i++) {
                   tr = colTr[i];
                   var td = document.createElement("td");
                   tr.appendChild(td);
               
                   var img = document.createElement("img");
                   img.src = "css/img/delete_user.png";
                   img.title = "supprimer l\'utilisateur";
                   td.appendChild(img);
                   img.onclick = function() {
                       var tr = this.closest("tr");
                       var tbody = tr.parentNode;
                       tbody.removeChild(tr);
                   }
               }
               
           }
           //window.addEventListener("load", init);

       </script>
   </head>
   <body>
       <div id="page"></div>
           <table>
               <thead>
                   <tr>
                       <th>Num</th>
                       <th>Nom</th>
                       <th>Prenom</th>
                   </tr>
           </thead>
               <tbody>
                   <tr>
                       <td>1</td>
                       <td>Dupont</td>
                       <td>Marcel</td>
                   </tr>
                   <tr>
                       <td>2</td>
                       <td>Dupont</td>
                       <td>Marcel</td>
                   </tr>
                   <tr>
                       <td>3</td>
                       <td>Dupont</td>
                       <td>Marcel</td>
                   </tr>
                   <tr>
                       <td>4</td>
                       <td>Dupont</td>
                       <td>Marcel</td>
                   </tr>
                   <tr>
                       <td>5</td>
                       <td>Dupont</td>
                       <td>Marcel</td>
                   </tr>
                   <tr>
                       <td>6</td>
                       <td>Dupont</td>
                       <td>Marcel</td>
                   </tr>
               </tbody>
           </table>
   </body>
</html>